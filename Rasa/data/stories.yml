version: "3.1"

stories:

- story: happy path
  steps:
  # - intent: greet
  # - action: action_set_slot_from_user_input
  # - action: utter_greet
  - intent: mood_great
  - action: utter_happy
  
- story: search product by name
  steps:
  - intent: get_top_product_info_by_name
  - action: action_get_top_product_info_by_name
  - action: utter_did_that_help
  - intent: deny
  - action: utter_goodbye

- story: search product by barcode
    steps:
      # - intent: greet
      # - action: utter_greet
      - intent: scan_barcode
      - action: action_get_product_info_by_barcode
      - checkpoint: ask_know_more

  - story: ask about animal friendliness
    steps:
      - checkpoint: ask_know_more
      - slot_was_set:
          - barcode
      - action: utter_like_to_know_more
      - intent: affirm
      - action: utter_specify_question
      - intent: ask_about_animal_friendliness_of_product
      - action: action_get_product_animal_friendliness_info
      - action: utter_did_that_help
      - intent: deny
      - action: utter_goodbye

  - story: search product by barcode and ask about property
    steps:
      - checkpoint: ask_know_more
      - action: utter_like_to_know_more
      - intent: ask_about_product_property_by_barcode
      - action: action_answer_about_product_property_by_barcode
      - action: utter_did_that_help
      - intent: deny
      - action: utter_goodbye



- story: sad path 1
  steps:
  # - intent: greet
  # - action: utter_greet
  - intent: mood_unhappy
  - action: utter_cheer_up
  - action: utter_did_that_help
  - intent: affirm
  - action: utter_happy

- story: sad path 2
  steps:
  # - intent: greet
  # - action: utter_greet
  - intent: mood_unhappy
  - action: utter_cheer_up
  - action: utter_did_that_help
  - intent: deny
  - action: utter_goodbye

# Stories surrounding setting the category of the user preferences from the following:
# nutritional value, food processing value, allergens, ingredients, labels, environment
- story: set ingredient preference
  steps: 
  - intent: set_ingredient_preference
  - action: action_confirm_preference
   

- story: set nutritional value preference
  steps: 
  - intent: set_nutr_value_preference 
  - action: action_confirm_preference

- story: set food processing preference
  steps: 
  - intent: set_food_processing_preference
  - action: action_confirm_preference


- story: set allergen preference
  steps: 
  - intent: set_allergen_preference
  - action: action_confirm_preference


- story: set label preference path 1
  steps: 
  - intent: set_label_preference
  - action: action_confirm_preference

  
  
- story: set label preference path 2
  steps: 
  - intent: scan_barcode
  - action: action_get_product_info_by_barcode
  - action: utter_did_that_help
  - intent: affirm
  - action: utter_happy
  - intent: set_label_preference
  - action: action_confirm_preference



- story: set label preference path 3
  steps: 
  - intent: set_label_preference
  - action: action_confirm_preference
  - intent: scan_barcode
  - action: action_get_product_info_by_barcode
  - action: utter_did_that_help
  - intent: affirm
  - action: utter_happy

- story: set environment preference 
  steps: 
  - intent: set_env_preference
  - action: action_confirm_preference

- story: ask for preferences
  steps: 
  - intent: ask_preferences
  - action: action_print_preferences



